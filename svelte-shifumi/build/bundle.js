var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,s;function i(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function g(){return h(" ")}function b(){return h("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function w(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){s=t}function O(){if(!s)throw new Error("Function called outside component initialization");return s}function k(t){O().$$.on_mount.push(t)}function _(){const t=O();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=function(t,e,{bubbles:n=!1,cancelable:r=!1}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,c)})),!c.defaultPrevented}return!0}}const S=[],M=[],N=[],j=[],R=Promise.resolve();let P=!1;function T(){P||(P=!0,R.then(L))}function U(t){N.push(t)}const A=new Set;let I=0;function L(){const t=s;do{for(;I<S.length;){const t=S[I];I++,E(t),H(t.$$)}for(E(null),S.length=0,I=0;M.length;)M.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];A.has(e)||(A.add(e),e())}N.length=0}while(S.length);for(;j.length;)j.pop()();P=!1,A.clear(),E(t)}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const B=new Set;let G;function q(){G={r:0,c:[],p:G}}function z(){G.r||r(G.c),G=G.p}function F(t,e){t&&t.i&&(B.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),G.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function V(t){t&&t.c()}function D(t,n,c,l){const{fragment:s,on_mount:i,on_destroy:u,after_update:a}=t.$$;s&&s.m(n,c),l||U((()=>{const n=i.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(U)}function J(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(e,o,c,l,i,u,a,f=[-1]){const d=s;E(e);const m=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};a&&a(m.root);let p=!1;if(m.ctx=c?c(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),p&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),T(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!l&&l(m.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);m.fragment&&m.fragment.l(t),t.forEach($)}else m.fragment&&m.fragment.c();o.intro&&F(e.$$.fragment),D(e,o.target,o.anchor,o.customElement),L()}E(d)}class Q{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function W(e){let n,r,o,c,l;return{c(){n=m("a"),r=p("svg"),o=p("path"),c=p("path"),l=p("path"),v(o,"d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"),v(c,"class","octo-arm svelte-2d7jym"),v(c,"d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6\n      C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9\n      134.4,103.2"),v(c,"fill","currentColor"),v(l,"d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4\n      142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4\n      163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4\n      C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0\n      205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1\n      C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"),v(l,"fill","currentColor"),v(r,"viewBox","0 0 250 250"),v(r,"style",e[0]),v(r,"aria-hidden","true"),v(r,"class","svelte-2d7jym"),v(n,"href",e[1]),v(n,"aria-label","View source on GitHub"),v(n,"target","_blank"),v(n,"rel","noopener"),v(n,"class","svelte-2d7jym")},m(t,e){f(t,n,e),a(n,r),a(r,o),a(r,c),a(r,l)},p(t,[e]){1&e&&v(r,"style",t[0]),2&e&&v(n,"href",t[1])},i:t,o:t,d(t){t&&$(n)}}}function X(t,e,n){let r,o,{url:c}=e,{background:l="#25292e"}=e,{color:s="#fff"}=e;return t.$$set=t=>{"url"in t&&n(2,c=t.url),"background"in t&&n(3,l=t.background),"color"in t&&n(4,s=t.color)},t.$$.update=()=>{4&t.$$.dirty&&n(1,r=`https://github.com/${c}`),24&t.$$.dirty&&n(0,o=`fill: ${l}; color: ${s};`)},[o,r,c,l,s]}class Y extends Q{constructor(t){super(),K(this,t,X,W,c,{url:2,background:3,color:4})}}const tt=[];const et=t=>new Promise((e=>setTimeout(e,t))),nt=(t,e,n,...r)=>[...t.slice(0,e),...r,...t.slice(e+n)];var rt,ot,ct,lt;!function(t){t.MENU="MENU",t.GAME="GAME"}(rt||(rt={})),function(t){t.HUMAN="HUMAN",t.COMPUTER="COMPUTER"}(ot||(ot={})),function(t){t.INTRO="INTRO",t.CHOICE="CHOICE",t.SCORE="SCORE"}(ct||(ct={})),function(t){t.STONE="STONE",t.SCISSOR="SCISSOR",t.PAPER="PAPER"}(lt||(lt={}));const st=function(e,n=t){let r;const o=new Set;function l(t){if(c(e,t)&&(e=t,r)){const t=!tt.length;for(const t of o)t[1](),tt.push(t,e);if(t){for(let t=0;t<tt.length;t+=2)tt[t][0](tt[t+1]);tt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(c,s=t){const i=[c,s];return o.add(i),1===o.size&&(r=n(l)||t),c(e),()=>{o.delete(i),0===o.size&&(r(),r=null)}}}}({scene:"MENU",players:[{number:1,type:"HUMAN"},{number:2,type:"COMPUTER"}],step:"INTRO",choices:[null,null]});var it={state:st,setScene(t){st.update((e=>Object.assign(Object.assign({},e),{scene:t})))},setPlayer(t,e){st.update((n=>Object.assign(Object.assign({},n),{players:nt(n.players,e,1,t)})))},setStep(t){st.update((e=>Object.assign(Object.assign({},e),{step:t})))},setChoice(t,e){st.update((n=>Object.assign(Object.assign({},n),{choices:nt(n.choices,e,1,t)})))},resetChoices(){st.update((t=>Object.assign(Object.assign({},t),{choices:[null,null]})))}};function ut(e){let n,r,o,c;return{c(){n=m("img"),i(n.src,r=e[5])||v(n,"src",r),v(n,"alt",e[3]),v(n,"title",e[4]),v(n,"class","svelte-qcsjn"),w(n,"clickable",e[0]),w(n,"disabled",e[1]),w(n,"active",e[2])},m(t,r){f(t,n,r),o||(c=y(n,"click",e[6]),o=!0)},p(t,[e]){32&e&&!i(n.src,r=t[5])&&v(n,"src",r),8&e&&v(n,"alt",t[3]),16&e&&v(n,"title",t[4]),1&e&&w(n,"clickable",t[0]),2&e&&w(n,"disabled",t[1]),4&e&&w(n,"active",t[2])},i:t,o:t,d(t){t&&$(n),o=!1,c()}}}function at(t,e,n){let r,o,c,l,{choice:s}=e,{number:i}=e,{clickable:u=!1}=e,{disabled:a=!1}=e,{active:f=!1}=e;const $=_();return t.$$set=t=>{"choice"in t&&n(7,s=t.choice),"number"in t&&n(8,i=t.number),"clickable"in t&&n(0,u=t.clickable),"disabled"in t&&n(1,a=t.disabled),"active"in t&&n(2,f=t.active)},t.$$.update=()=>{var e;128&t.$$.dirty&&n(9,r=s.toLowerCase()),768&t.$$.dirty&&n(5,o=`images/choices/${r}_${i}.png`),512&t.$$.dirty&&n(3,c=(e=r)[0].toUpperCase()+e.substring(1)),10&t.$$.dirty&&n(4,l=a?"":c)},[u,a,f,c,l,o,()=>u&&$("click"),s,i,r]}class ft extends Q{constructor(t){super(),K(this,t,at,ut,c,{choice:7,number:8,clickable:0,disabled:1,active:2})}}function $t(t,e,n){const r=t.slice();return r[2]=e[n],r[11]=n,r}function dt(t){let e,n;return e=new ft({props:{choice:t[2],number:t[0].number,clickable:!t[4],disabled:t[1],active:t[3][t[11]]}}),e.$on("click",(function(){return t[7](t[11])})),{c(){V(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(n,r){t=n;const o={};1&r&&(o.number=t[0].number),16&r&&(o.clickable=!t[4]),2&r&&(o.disabled=t[1]),8&r&&(o.active=t[3][t[11]]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function mt(t){let e,n,r,o,c,l,s,i=t[0].number+"",u=t[5],p=[];for(let e=0;e<u.length;e+=1)p[e]=dt($t(t,u,e));const b=t=>Z(p[t],1,1,(()=>{p[t]=null}));return{c(){e=m("div"),n=m("h2"),r=h("Player "),o=h(i),c=g(),l=m("div");for(let t=0;t<p.length;t+=1)p[t].c();v(l,"class","flex mx-auto"),v(e,"class","flex flex-column w-full")},m(t,i){f(t,e,i),a(e,n),a(n,r),a(n,o),a(e,c),a(e,l);for(let t=0;t<p.length;t+=1)p[t].m(l,null);s=!0},p(t,[e]){if((!s||1&e)&&i!==(i=t[0].number+"")&&C(o,i),123&e){let n;for(u=t[5],n=0;n<u.length;n+=1){const r=$t(t,u,n);p[n]?(p[n].p(r,e),F(p[n],1)):(p[n]=dt(r),p[n].c(),F(p[n],1),p[n].m(l,null))}for(q(),n=u.length;n<p.length;n+=1)b(n);z()}},i(t){if(!s){for(let t=0;t<u.length;t+=1)F(p[t]);s=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Z(p[t]);s=!1},d(t){t&&$(e),d(p,t)}}}function pt(t,e,n){let r,o,c,{player:l}=e;const s=_(),i=Object.keys(lt);let u=null;const a=t=>{n(2,u=i[t]),s("input",u)};k((()=>r&&(()=>{const t=Math.floor(Math.random()*i.length);a(t)})()));return t.$$set=t=>{"player"in t&&n(0,l=t.player)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r="COMPUTER"===l.type),6&t.$$.dirty&&n(4,o=r||!!u),6&t.$$.dirty&&n(3,c=i.map(((t,e)=>!r&&u===i[e])))},[l,r,u,c,o,i,a,t=>a(t)]}class ht extends Q{constructor(t){super(),K(this,t,pt,mt,c,{player:0})}}function gt(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function bt(t){let e,n;return e=new ht({props:{player:t[6]}}),e.$on("input",(function(...e){return t[3](t[8],...e)})),{c(){V(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(n,r){t=n;const o={};1&r&&(o.player=t[6]),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function yt(t){let e,n,r=t[0].players,o=[];for(let e=0;e<r.length;e+=1)o[e]=bt(gt(t,r,e));const c=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){e=m("div");for(let t=0;t<o.length;t+=1)o[t].c();v(e,"class","flex")},m(t,r){f(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(5&n){let l;for(r=t[0].players,l=0;l<r.length;l+=1){const c=gt(t,r,l);o[l]?(o[l].p(c,n),F(o[l],1)):(o[l]=bt(c),o[l].c(),F(o[l],1),o[l].m(e,null))}for(q(),l=r.length;l<o.length;l+=1)c(l);z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)F(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){t&&$(e),d(o,t)}}}function vt(t,e,n){let r,o;const c=_(),{state:l}=it;u(t,l,(t=>n(0,o=t)));const s=async({detail:t},e)=>{it.setChoice(t,e),await(T(),R),r&&c("done")};it.resetChoices();return t.$$.update=()=>{1&t.$$.dirty&&(r=o.choices.every((t=>t)))},[o,l,s,(t,e)=>s(e,t)]}class Ct extends Q{constructor(t){super(),K(this,t,vt,yt,c,{})}}function xt(e){let n,r;return{c(){n=m("div"),r=h(e[0]),v(n,"class","text-primary svelte-xlx6tb"),w(n,"hidden",e[1])},m(t,e){f(t,n,e),a(n,r)},p(t,[e]){1&e&&C(r,t[0]),2&e&&w(n,"hidden",t[1])},i:t,o:t,d(t){t&&$(n)}}}function wt(t,e,n){const r=_();let o="",c=!0;const l=async t=>{n(0,o=t),n(1,c=!1),await et(300),n(1,c=!0),await et(100),n(0,o=""),await et(200)};return k((async()=>{await l("Shi"),await l("Fu"),await l("Mi"),r("done")})),[o,c]}class Et extends Q{constructor(t){super(),K(this,t,wt,xt,c,{})}}function Ot(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function kt(t){let e,n,r,o,c,l,s,i,u,d=t[8].number+"";return s=new ft({props:{choice:t[0].choices[t[10]],number:t[8].number}}),{c(){e=m("div"),n=m("h2"),r=h("Player "),o=h(d),c=g(),l=m("div"),V(s.$$.fragment),i=g(),v(l,"class","flex mx-auto"),v(e,"class","flex flex-column w-full")},m(t,$){f(t,e,$),a(e,n),a(n,r),a(n,o),a(e,c),a(e,l),D(s,l,null),a(e,i),u=!0},p(t,e){(!u||1&e)&&d!==(d=t[8].number+"")&&C(o,d);const n={};1&e&&(n.choice=t[0].choices[t[10]]),1&e&&(n.number=t[8].number),s.$set(n)},i(t){u||(F(s.$$.fragment,t),u=!0)},o(t){Z(s.$$.fragment,t),u=!1},d(t){t&&$(e),J(s)}}}function _t(t){let e,n,o,c,l,s,i,u,p,b,x,w=t[0].players,E=[];for(let e=0;e<w.length;e+=1)E[e]=kt(Ot(t,w,e));const O=t=>Z(E[t],1,1,(()=>{E[t]=null}));return{c(){e=m("div");for(let t=0;t<E.length;t+=1)E[t].c();n=g(),o=m("h2"),c=h(t[1]),l=g(),s=m("button"),s.textContent="Replay",i=g(),u=m("button"),u.textContent="Menu",v(e,"class","flex"),v(s,"class","btn btn-primary mx mt"),v(u,"class","btn btn-primary mx mt")},m(r,$){f(r,e,$);for(let t=0;t<E.length;t+=1)E[t].m(e,null);f(r,n,$),f(r,o,$),a(o,c),f(r,l,$),f(r,s,$),f(r,i,$),f(r,u,$),p=!0,b||(x=[y(s,"click",t[4]),y(u,"click",t[5])],b=!0)},p(t,[n]){if(1&n){let r;for(w=t[0].players,r=0;r<w.length;r+=1){const o=Ot(t,w,r);E[r]?(E[r].p(o,n),F(E[r],1)):(E[r]=kt(o),E[r].c(),F(E[r],1),E[r].m(e,null))}for(q(),r=w.length;r<E.length;r+=1)O(r);z()}(!p||2&n)&&C(c,t[1])},i(t){if(!p){for(let t=0;t<w.length;t+=1)F(E[t]);p=!0}},o(t){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)Z(E[t]);p=!1},d(t){t&&$(e),d(E,t),t&&$(n),t&&$(o),t&&$(l),t&&$(s),t&&$(i),t&&$(u),b=!1,r(x)}}}function St(t,e,n){let r;const o=_(),{state:c}=it;u(t,c,(t=>n(0,r=t)));const l=Object.keys(lt);let s;const i=t=>o(t);return t.$$.update=()=>{if(1&t.$$.dirty)if(r.choices[0]===r.choices[1])n(1,s="Nobody wins :(");else{const t=r.choices.map((t=>l.findIndex((e=>t===e)))),e=t[1]-t[0];n(1,s=`Player ${1===e||-2===e?1:2} wins :)`)}},[r,s,c,i,()=>i("start"),()=>i("menu")]}class Mt extends Q{constructor(t){super(),K(this,t,St,_t,c,{})}}function Nt(t){let e,n,r;var o=Mt;return o&&(e=new o({}),e.$on("start",t[2]),e.$on("menu",t[5])),{c(){e&&V(e.$$.fragment),n=b()},m(t,o){e&&D(e,t,o),f(t,n,o),r=!0},p(t,r){if(o!==(o=Mt)){if(e){q();const t=e;Z(t.$$.fragment,1,0,(()=>{J(t,1)})),z()}o?(e=new o({}),e.$on("start",t[2]),e.$on("menu",t[5]),V(e.$$.fragment),F(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}},i(t){r||(e&&F(e.$$.fragment,t),r=!0)},o(t){e&&Z(e.$$.fragment,t),r=!1},d(t){t&&$(n),e&&J(e,t)}}}function jt(t){let e,n,r;var o=Ct;return o&&(e=new o({}),e.$on("done",t[4])),{c(){e&&V(e.$$.fragment),n=b()},m(t,o){e&&D(e,t,o),f(t,n,o),r=!0},p(t,r){if(o!==(o=Ct)){if(e){q();const t=e;Z(t.$$.fragment,1,0,(()=>{J(t,1)})),z()}o?(e=new o({}),e.$on("done",t[4]),V(e.$$.fragment),F(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}},i(t){r||(e&&F(e.$$.fragment,t),r=!0)},o(t){e&&Z(e.$$.fragment,t),r=!1},d(t){t&&$(n),e&&J(e,t)}}}function Rt(t){let e,n,r;var o=Et;return o&&(e=new o({}),e.$on("done",t[3])),{c(){e&&V(e.$$.fragment),n=b()},m(t,o){e&&D(e,t,o),f(t,n,o),r=!0},p(t,r){if(o!==(o=Et)){if(e){q();const t=e;Z(t.$$.fragment,1,0,(()=>{J(t,1)})),z()}o?(e=new o({}),e.$on("done",t[3]),V(e.$$.fragment),F(e.$$.fragment,1),D(e,n.parentNode,n)):e=null}},i(t){r||(e&&F(e.$$.fragment,t),r=!0)},o(t){e&&Z(e.$$.fragment,t),r=!1},d(t){t&&$(n),e&&J(e,t)}}}function Pt(t){let e,n,r,o;const c=[Rt,jt,Nt],l=[];function s(t,e){return t[0].step===ct.INTRO?0:t[0].step===ct.CHOICE?1:t[0].step===ct.SCORE?2:-1}return~(e=s(t))&&(n=l[e]=c[e](t)),{c(){n&&n.c(),r=b()},m(t,n){~e&&l[e].m(t,n),f(t,r,n),o=!0},p(t,[o]){let i=e;e=s(t),e===i?~e&&l[e].p(t,o):(n&&(q(),Z(l[i],1,1,(()=>{l[i]=null})),z()),~e?(n=l[e],n?n.p(t,o):(n=l[e]=c[e](t),n.c()),F(n,1),n.m(r.parentNode,r)):n=null)},i(t){o||(F(n),o=!0)},o(t){Z(n),o=!1},d(t){~e&&l[e].d(t),t&&$(r)}}}function Tt(t,e,n){let r;const{state:o}=it;u(t,o,(t=>n(0,r=t)));const c=()=>it.setStep("INTRO");return c(),[r,o,c,()=>it.setStep("CHOICE"),()=>it.setStep("SCORE"),()=>it.setScene("MENU")]}class Ut extends Q{constructor(t){super(),K(this,t,Tt,Pt,c,{})}}function At(t,e,n){const r=t.slice();return r[3]=e[n][0],r[4]=e[n][1],r}function It(e){let n,r,o,c=e[4]+"";return{c(){n=m("option"),r=h(c),n.__value=o=e[3],n.value=n.__value},m(t,e){f(t,n,e),a(n,r)},p:t,d(t){t&&$(n)}}}function Lt(e){let n,r,o,c,l,s,i,u,p=e[0].number+"",b=Object.entries(e[1]),w=[];for(let t=0;t<b.length;t+=1)w[t]=It(At(e,b,t));return{c(){n=m("div"),r=m("h2"),o=h("Player "),c=h(p),l=g(),s=m("select");for(let t=0;t<w.length;t+=1)w[t].c();v(s,"class","mx-auto mt"),void 0===e[0].type&&U((()=>e[2].call(s))),v(n,"class","flex flex-column w-full")},m(t,$){f(t,n,$),a(n,r),a(r,o),a(r,c),a(n,l),a(n,s);for(let t=0;t<w.length;t+=1)w[t].m(s,null);x(s,e[0].type),i||(u=y(s,"change",e[2]),i=!0)},p(t,[e]){if(1&e&&p!==(p=t[0].number+"")&&C(c,p),2&e){let n;for(b=Object.entries(t[1]),n=0;n<b.length;n+=1){const r=At(t,b,n);w[n]?w[n].p(r,e):(w[n]=It(r),w[n].c(),w[n].m(s,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=b.length}3&e&&x(s,t[0].type)},i:t,o:t,d(t){t&&$(n),d(w,t),i=!1,u()}}}function Ht(t,e,n){let{player:r}=e;const o={[ot.HUMAN]:"Human",[ot.COMPUTER]:"Computer"};return t.$$set=t=>{"player"in t&&n(0,r=t.player)},[r,o,function(){r.type=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,r),n(1,o)}]}class Bt extends Q{constructor(t){super(),K(this,t,Ht,Lt,c,{player:0})}}function Gt(t,e,n){const r=t.slice();return r[4]=e[n],r[5]=e,r[6]=n,r}function qt(t){let e,n,r;function o(e){t[3](e,t[4],t[5],t[6])}let c={};return void 0!==t[4]&&(c.player=t[4]),e=new Bt({props:c}),M.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(e,"player",o))),{c(){V(e.$$.fragment)},m(t,n){D(e,t,n),r=!0},p(r,o){t=r;const c={};var l;!n&&1&o&&(n=!0,c.player=t[4],l=()=>n=!1,j.push(l)),e.$set(c)},i(t){r||(F(e.$$.fragment,t),r=!0)},o(t){Z(e.$$.fragment,t),r=!1},d(t){J(e,t)}}}function zt(t){let e,n,r,o,c,l,s=t[0].players,i=[];for(let e=0;e<s.length;e+=1)i[e]=qt(Gt(t,s,e));const u=t=>Z(i[t],1,1,(()=>{i[t]=null}));return{c(){e=m("div");for(let t=0;t<i.length;t+=1)i[t].c();n=g(),r=m("button"),r.textContent="Play",v(e,"class","flex"),v(r,"type","button"),v(r,"class","btn btn-primary mt")},m(s,u){f(s,e,u);for(let t=0;t<i.length;t+=1)i[t].m(e,null);f(s,n,u),f(s,r,u),o=!0,c||(l=y(r,"click",t[2]),c=!0)},p(t,[n]){if(1&n){let r;for(s=t[0].players,r=0;r<s.length;r+=1){const o=Gt(t,s,r);i[r]?(i[r].p(o,n),F(i[r],1)):(i[r]=qt(o),i[r].c(),F(i[r],1),i[r].m(e,null))}for(q(),r=s.length;r<i.length;r+=1)u(r);z()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)F(i[t]);o=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Z(i[t]);o=!1},d(t){t&&$(e),d(i,t),t&&$(n),t&&$(r),c=!1,l()}}}function Ft(t,e,n){let r;const{state:o}=it;u(t,o,(t=>n(0,r=t)));return[r,o,()=>it.setScene("GAME"),function(t,e,n,c){n[c]=t,o.set(r)}]}class Zt extends Q{constructor(t){super(),K(this,t,Ft,zt,c,{})}}function Vt(t){let e,n,r,o,c,l,s,u,d,p,h;var b=t[0];return b&&(u=new b({})),p=new Y({props:{url:"pascalgermain/svelte-shifumi"}}),{c(){e=m("main"),n=m("img"),o=g(),c=m("h1"),c.textContent="Svelte Shifumi",l=g(),s=m("div"),u&&V(u.$$.fragment),d=g(),V(p.$$.fragment),i(n.src,r="images/logo.svg")||v(n,"src","images/logo.svg"),v(n,"alt","Svelte logo"),v(n,"width","166"),v(n,"height","200"),v(s,"class","mx-auto mt scene svelte-1k3vk8"),v(e,"class","text-center svelte-1k3vk8")},m(t,r){f(t,e,r),a(e,n),a(e,o),a(e,c),a(e,l),a(e,s),u&&D(u,s,null),f(t,d,r),D(p,t,r),h=!0},p(t,[e]){if(b!==(b=t[0])){if(u){q();const t=u;Z(t.$$.fragment,1,0,(()=>{J(t,1)})),z()}b?(u=new b({}),V(u.$$.fragment),F(u.$$.fragment,1),D(u,s,null)):u=null}},i(t){h||(u&&F(u.$$.fragment,t),F(p.$$.fragment,t),h=!0)},o(t){u&&Z(u.$$.fragment,t),Z(p.$$.fragment,t),h=!1},d(t){t&&$(e),u&&J(u),t&&$(d),J(p,t)}}}function Dt(t,e,n){let r,o;const c={[rt.MENU]:Zt,[rt.GAME]:Ut},{state:l}=it;return u(t,l,(t=>n(2,o=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,r=c[o.scene])},[r,l,o]}return new class extends Q{constructor(t){super(),K(this,t,Dt,Vt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
